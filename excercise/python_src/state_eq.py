import numpy

def f(x, u, m, M, l, g, D_x, D_theta):
    return numpy.array([[x[1, 0]], [3*D_theta*numpy.cos(x[2, 0])*x[3, 0]/(4*M*l + 3*l*m*numpy.sin(x[2, 0])**2 + l*m) - 4*D_x*l*x[1, 0]/(4*M*l + 3*l*m*numpy.sin(x[2, 0])**2 + l*m) - 3*g*l*m*numpy.sin(2*x[2, 0])/(8*M*l + 6*l*m*numpy.sin(x[2, 0])**2 + 2*l*m) + 4*l**2*m*numpy.sin(x[2, 0])*x[3, 0]**2/(4*M*l + 3*l*m*numpy.sin(x[2, 0])**2 + l*m) + 4*l*u/(4*M*l + 3*l*m*numpy.sin(x[2, 0])**2 + l*m)], [x[3, 0]], [-3*D_theta*M*x[3, 0]/(4*M*l**2*m + 3*l**2*m**2*numpy.sin(x[2, 0])**2 + l**2*m**2) - 3*D_theta*m*x[3, 0]/(4*M*l**2*m + 3*l**2*m**2*numpy.sin(x[2, 0])**2 + l**2*m**2) + 3*D_x*l*m*numpy.cos(x[2, 0])*x[1, 0]/(4*M*l**2*m + 3*l**2*m**2*numpy.sin(x[2, 0])**2 + l**2*m**2) + 3*M*g*l*m*numpy.sin(x[2, 0])/(4*M*l**2*m + 3*l**2*m**2*numpy.sin(x[2, 0])**2 + l**2*m**2) + 3*g*l*m**2*numpy.sin(x[2, 0])/(4*M*l**2*m + 3*l**2*m**2*numpy.sin(x[2, 0])**2 + l**2*m**2) - 3*l**2*m**2*numpy.sin(2*x[2, 0])*x[3, 0]**2/(8*M*l**2*m + 6*l**2*m**2*numpy.sin(x[2, 0])**2 + 2*l**2*m**2) - 3*l*m*u*numpy.cos(x[2, 0])/(4*M*l**2*m + 3*l**2*m**2*numpy.sin(x[2, 0])**2 + l**2*m**2)]])